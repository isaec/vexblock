@use "sass:map";
@use "../main";

.Editor {
  overflow: scroll;
  position: relative;
  cursor: text;
}

.EditorScroll {
  display: grid;
}

textarea#edit, #highlight {
  grid-area: 1 / 1 / 4 / 2;
  margin: 0px;
  padding: 20px 0px 0px 20px;
  border: 0;
  overflow: visible;
  white-space: pre;
  resize: none;
}

#highlight, #highlight * {
  user-select: none;
}

textarea#edit, #highlight, #highlight * {
  font-size: 12pt;
  font-family: Hack, monospace;
  line-height: 20pt;
}

//solarized
$colors: (
  'base03'  : #002b36,
  'base02'  : #073642,
  'base01'  : #586e75,
  'base00'  : #657b83,
  'base0'   : #839496,
  'base1'   : #93a1a1,
  'base2'   : #eee8d5,
  'base3'   : #fdf6e3,
  'yellow'  : #b58900,
  'orange'  : #cb4b16,
  'red'     : #dc322f,
  'magenta' : #d33682,
  'violet'  : #6c71c4,
  'blue'    : #268bd2,
  'cyan'    : #2aa198,
  'green'   : #859900,
);

.Editor {
  $bg: map.get($colors, 'base03');
  $fg: map.get($colors, 'base02');
  $size: 12pt;

  &::-webkit-scrollbar {
    width: $size;
    height: $size;
  }
  &::-webkit-scrollbar-track {
    background-color: $bg;
  }
  &::-webkit-scrollbar-thumb {
    background-color: $fg;
  }
  &::-webkit-scrollbar-corner {
    background-color: $bg;
  }
}

textarea#edit {
  color: transparent;
  background: transparent;
  caret-color: map.get($colors, 'base00');
  z-index: 1;
  &::selection {
    color: map.get($colors, 'base1');
    background-color: map.get($colors, 'base02');
  }
  &:focus{
    outline: none;
  }
}

#highlight {
  z-index: 0;
}

#highlight, .Editor {
  background-color: map.get($colors, 'base03');
}

#highlight {
  & code {
    color: map.get($colors, 'base0');
  }
  @each $color, $hex in $colors {
    & span.#{$color} {
      color: $hex;
    }
    & span.bg-#{$color} {
      background-color: $hex;
    }
  }
}